import{a as ae}from"./chunk-2UHRISXL.js";import{a as oe}from"./chunk-OVOYAZSU.js";import{a as ce}from"./chunk-TA4ZSXEJ.js";import{a as ie}from"./chunk-OZQNHYKT.js";import{a as K,b as Z,e as G,g as H,h as J,i as X,j as ee,k as te,m as ne}from"./chunk-IPSMZJ2X.js";import{A as p,Aa as O,B as m,Ba as q,Ca as C,Da as f,Ea as b,Ga as W,Ha as F,Ia as B,Ja as A,M as c,O as x,P as I,T as u,Ta as j,Ua as N,Va as L,Wa as R,Ya as U,Z as V,Za as $,aa as l,ba as a,ca as o,eb as Q,g as h,gb as Y,ha as T,ia as D,ja as M,la as _,ma as g,ob as re,qb as y,v as S,wa as z,y as E,ya as s,za as P}from"./chunk-WJ4ZKYPW.js";var v=y`
  query GetOrders {
    orders {
      id
      customer { id name email }
      date
      items {
        id
        quantity
        price
        product { id name price category { id name } }
        category { id name }
      }
    }
  }
`,k=y`
  query GetOrdersByCustomer($customerId: Int!) {
    ordersByCustomer(customerId: $customerId) {
      id
      customer { id name email }
      date
      items {
        id
        quantity
        price
        product { id name price category { id name } }
        category { id name }
      }
    }
  }
`,w=class i{constructor(t){this.apollo=t}getOrders(){return this.apollo.watchQuery({query:v,fetchPolicy:"network-only"}).valueChanges.pipe(h(t=>(t.data?.orders??[]).filter(e=>!!e)))}getOrdersByCustomer(t){return this.apollo.watchQuery({query:k,variables:{customerId:t},fetchPolicy:"network-only"}).valueChanges.pipe(h(e=>(e.data?.ordersByCustomer??[]).filter(r=>!!r)))}create(t){return this.apollo.mutate({mutation:y`
          mutation CreateOrder($input: CreateOrderInput!) {
            createOrder(input: $input) {
              id
              customer { id name email }
              date
              items {
                id
                quantity
                price
                product { id name price category { id name } }
                category { id name }
              }
            }
          }
        `,variables:{input:t},refetchQueries:[{query:v},{query:k,variables:{customerId:t.customerId}}],awaitRefetchQueries:!0}).pipe(h(e=>e.data?.createOrder??null))}update(t,e){return this.apollo.mutate({mutation:y`
          mutation UpdateOrder($id: Int!, $input: UpdateOrderInput!) {
            updateOrder(id: $id, input: $input) {
              id
              customer { id name email }
              date
              items {
                id
                quantity
                price
                product { id name price category { id name } }
                category { id name }
              }
            }
          }
        `,variables:{id:t,input:e},refetchQueries:[{query:v}],awaitRefetchQueries:!0}).pipe(h(r=>r.data?.updateOrder??null))}delete(t,e){return this.apollo.mutate({mutation:y`
          mutation DeleteOrder($id: Int!) {
            deleteOrder(id: $id)
          }
        `,variables:{id:t},refetchQueries:[{query:v},...e?[{query:k,variables:{customerId:e}}]:[]],awaitRefetchQueries:!0}).pipe(h(r=>r.data?.deleteOrder??!1))}static \u0275fac=function(e){return new(e||i)(E(re))};static \u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})};var ge=i=>({editing:i});function pe(i,t){if(i&1){let e=M();a(0,"div",11)(1,"button",12),_("click",function(){p(e);let n=g();return m(n.startNew())}),s(2,"\u2795 P\u0159idat objedn\xE1vku"),o()()}}function me(i,t){if(i&1&&(a(0,"option",16),s(1),o()),i&2){let e=t.$implicit;l("ngValue",e),c(),O(" ",e.name," ")}}function _e(i,t){if(i&1&&(a(0,"option",16),s(1),o()),i&2){let e=t.$implicit;l("ngValue",e),c(),O(" ",e.name," ")}}function ue(i,t){if(i&1&&(a(0,"option",16),s(1),o()),i&2){let e=t.$implicit;l("ngValue",e),c(),O(" ",e.name," ")}}function Oe(i,t){if(i&1){let e=M();a(0,"div",24)(1,"select",15),b("ngModelChange",function(n){let d=p(e).$implicit;return f(d.category,n)||(d.category=n),m(n)}),a(2,"option",16),s(3,"-- Vyber kategorii --"),o(),u(4,_e,2,2,"option",17),o(),a(5,"select",15),b("ngModelChange",function(n){let d=p(e).$implicit;return f(d.product,n)||(d.product=n),m(n)}),a(6,"option",16),s(7,"-- Vyber produkt --"),o(),u(8,ue,2,2,"option",17),o(),a(9,"input",25),b("ngModelChange",function(n){let d=p(e).$implicit;return f(d.quantity,n)||(d.quantity=n),m(n)}),o(),a(10,"span",26),s(11),o(),a(12,"div",27)(13,"button",28),_("click",function(){p(e);let n=g(2);return m(n.addItem())}),s(14,"\u2795 P\u0159idat"),o(),a(15,"button",29),_("click",function(){let n=p(e).index,d=g(2);return m(d.removeItem(n))}),s(16,"\u{1F5D1}\uFE0F Smazat"),o()()()}if(i&2){let e=t.$implicit,r=g(2);c(),C("ngModel",e.category),l("compareWith",r.compareCategory),c(),l("ngValue",void 0),c(2),l("ngForOf",r.categories),c(),C("ngModel",e.product),l("compareWith",r.compareProduct),c(),l("ngValue",null),c(2),l("ngForOf",r.getFilteredProducts(e.category==null?null:e.category.id)),c(),C("ngModel",e.quantity),c(2),O(" ",e.product?e.product.price*(e.quantity||0):0," K\u010D ")}}function Ce(i,t){if(i&1){let e=M();a(0,"div",13)(1,"div",14)(2,"select",15),b("ngModelChange",function(n){p(e);let d=g();return f(d.newOrder.customer,n)||(d.newOrder.customer=n),m(n)}),a(3,"option",16),s(4,"-- Vyber z\xE1kazn\xEDka --"),o(),u(5,me,2,2,"option",17),o(),a(6,"input",18),b("ngModelChange",function(n){p(e);let d=g();return f(d.newOrder.date,n)||(d.newOrder.date=n),m(n)}),o(),a(7,"div",19),u(8,Oe,17,10,"div",20),o(),a(9,"div",21),s(10),o(),a(11,"button",22),_("click",function(){p(e);let n=g();return m(n.saveNew())}),s(12,"\u{1F4BE} Ulo\u017Eit"),o(),a(13,"button",23),_("click",function(){p(e);let n=g();return m(n.cancelNew())}),s(14,"\u2716 Zru\u0161it"),o()()()}if(i&2){let e=g();c(2),C("ngModel",e.newOrder.customer),l("compareWith",e.compareCustomer),c(),l("ngValue",null),c(2),l("ngForOf",e.customers),c(),C("ngModel",e.newOrder.date),l("min",e.today),c(2),l("ngForOf",e.newOrder.items),c(2),O("Celkem: ",e.totalPrice," K\u010D")}}function fe(i,t){if(i&1&&(a(0,"span"),s(1),o()),i&2){let e=g(2);c(),P(e.sortDirection==="asc"?"\u2191":"\u2193")}}function be(i,t){if(i&1&&(a(0,"span"),s(1),o()),i&2){let e=g(2);c(),P(e.sortDirection==="asc"?"\u2191":"\u2193")}}function xe(i,t){if(i&1&&(a(0,"span"),s(1),o()),i&2){let e=g(2);c(),P(e.sortDirection==="asc"?"\u2191":"\u2193")}}function Me(i,t){if(i&1&&(a(0,"span"),s(1),o()),i&2){let e=g(2);c(),P(e.sortDirection==="asc"?"\u2191":"\u2193")}}function Pe(i,t){i&1&&(a(0,"th",37),s(1,"Akce"),o())}function he(i,t){if(i&1&&(a(0,"option",16),s(1),o()),i&2){let e=t.$implicit;l("ngValue",e),c(),O(" ",e.name," ")}}function ye(i,t){if(i&1&&(a(0,"option",16),s(1),o()),i&2){let e=t.$implicit;l("ngValue",e),c(),O(" ",e.name," ")}}function ve(i,t){if(i&1&&(a(0,"option",16),s(1),o()),i&2){let e=t.$implicit;l("ngValue",e),c(),O(" ",e.name," ")}}function we(i,t){if(i&1){let e=M();a(0,"div",24)(1,"select",15),b("ngModelChange",function(n){let d=p(e).$implicit;return f(d.category,n)||(d.category=n),m(n)}),a(2,"option",16),s(3,"-- Vyber kategorii --"),o(),u(4,ye,2,2,"option",17),o(),a(5,"select",15),b("ngModelChange",function(n){let d=p(e).$implicit;return f(d.product,n)||(d.product=n),m(n)}),a(6,"option",16),s(7,"-- Vyber produkt --"),o(),u(8,ve,2,2,"option",17),o(),a(9,"input",25),b("ngModelChange",function(n){let d=p(e).$implicit;return f(d.quantity,n)||(d.quantity=n),m(n)}),o(),a(10,"span",26),s(11),o(),a(12,"div",27)(13,"button",28),_("click",function(){p(e);let n=g(4);return m(n.addEditItem())}),s(14,"\u2795 P\u0159idat"),o(),a(15,"button",29),_("click",function(){let n=p(e).index,d=g(4);return m(d.removeEditItem(n))}),s(16,"\u{1F5D1}\uFE0F Smazat"),o()()()}if(i&2){let e=t.$implicit,r=g(4);c(),C("ngModel",e.category),l("compareWith",r.compareCategory),c(),l("ngValue",void 0),c(2),l("ngForOf",r.categories),c(),C("ngModel",e.product),l("compareWith",r.compareProduct),c(),l("ngValue",null),c(2),l("ngForOf",r.getFilteredProducts(e.category==null?null:e.category.id)),c(),C("ngModel",e.quantity),c(2),O(" ",e.product?e.product.price*(e.quantity||0):0," K\u010D ")}}function ke(i,t){if(i&1){let e=M();T(0),a(1,"td")(2,"div",13)(3,"div",14)(4,"select",15),b("ngModelChange",function(n){p(e);let d=g(3);return f(d.editingOrder.customer,n)||(d.editingOrder.customer=n),m(n)}),a(5,"option",16),s(6,"-- Vyber z\xE1kazn\xEDka --"),o(),u(7,he,2,2,"option",17),o(),a(8,"input",18),b("ngModelChange",function(n){p(e);let d=g(3);return f(d.editingOrder.date,n)||(d.editingOrder.date=n),m(n)}),o(),a(9,"div",19),u(10,we,17,10,"div",20),o(),a(11,"div",21),s(12),o(),a(13,"button",22),_("click",function(){p(e);let n=g(3);return m(n.saveEdit())}),s(14,"\u{1F4BE} Ulo\u017Eit"),o(),a(15,"button",23),_("click",function(){p(e);let n=g(3);return m(n.cancelEdit())}),s(16,"\u2716 Zru\u0161it"),o()()()(),D()}if(i&2){let e=g(3);c(),V("colspan",e.isAdmin()?5:4),c(3),C("ngModel",e.editingOrder.customer),l("compareWith",e.compareCustomer),c(),l("ngValue",null),c(2),l("ngForOf",e.customers),c(),C("ngModel",e.editingOrder.date),l("min",e.today),c(2),l("ngForOf",e.editingOrder.items),c(2),O("Celkem: ",e.getEditingOrderTotal()," K\u010D")}}function Se(i,t){if(i&1){let e=M();a(0,"td",37)(1,"button",44),_("click",function(){p(e);let n=g(2).$implicit,d=g(2);return m(d.startEdit(n))}),s(2,"\u270F Upravit"),o(),a(3,"button",45),_("click",function(){p(e);let n=g(2).$implicit,d=g(2);return m(d.deleteOrder(n.id))}),s(4,"\u{1F5D1} Smazat"),o()()}}function Ee(i,t){if(i&1&&(a(0,"td",40),s(1),o(),a(2,"td",41),s(3),o(),a(4,"td",42),s(5),F(6,"date"),o(),a(7,"td",43),s(8),o(),u(9,Se,5,0,"td",35)),i&2){let e=g().$implicit,r=g(2);c(),P(e.id),c(2),P(e.customer.name),c(2),P(B(6,5,e.date,"yyyy-MM-dd")),c(3),O("",r.getOrderTotal(e)," K\u010D"),c(),l("ngIf",r.isAdmin())}}function Ie(i,t){if(i&1&&(a(0,"tr",38),u(1,ke,17,9,"ng-container",39)(2,Ee,10,8,"ng-template",null,0,A),o()),i&2){let e=t.$implicit,r=z(3),n=g(2);l("ngClass",W(3,ge,(n.editingOrder==null?null:n.editingOrder.id)===e.id)),c(),l("ngIf",(n.editingOrder==null?null:n.editingOrder.id)===e.id)("ngIfElse",r)}}function Ve(i,t){if(i&1){let e=M();a(0,"table",30)(1,"thead")(2,"tr")(3,"th",31),_("click",function(){p(e);let n=g();return m(n.sortData("id"))}),s(4," ID "),u(5,fe,2,1,"span",10),o(),a(6,"th",32),_("click",function(){p(e);let n=g();return m(n.sortData("customer"))}),s(7," Z\xE1kazn\xEDk "),u(8,be,2,1,"span",10),o(),a(9,"th",33),_("click",function(){p(e);let n=g();return m(n.sortData("date"))}),s(10," Datum "),u(11,xe,2,1,"span",10),o(),a(12,"th",34),_("click",function(){p(e);let n=g();return m(n.sortData("price"))}),s(13," Cena celkem "),u(14,Me,2,1,"span",10),o(),u(15,Pe,2,0,"th",35),o()(),a(16,"tbody"),u(17,Ie,4,5,"tr",36),o()()}if(i&2){let e=g();c(5),l("ngIf",e.sortColumn==="id"),c(3),l("ngIf",e.sortColumn==="customer"),c(3),l("ngIf",e.sortColumn==="date"),c(3),l("ngIf",e.sortColumn==="price"),c(),l("ngIf",e.isAdmin()),c(2),l("ngForOf",e.pagedOrders)}}function Te(i,t){if(i&1&&(a(0,"option",16),s(1),o()),i&2){let e=t.$implicit;l("ngValue",e),c(),P(e)}}function De(i,t){if(i&1){let e=M();a(0,"div",46)(1,"button",47),_("click",function(){p(e);let n=g();return m(n.changePage(n.currentPage-1))}),s(2,"\u2B05 P\u0159edchoz\xED"),o(),a(3,"span"),s(4),o(),a(5,"button",47),_("click",function(){p(e);let n=g();return m(n.changePage(n.currentPage+1))}),s(6,"Dal\u0161\xED \u27A1"),o(),a(7,"label"),s(8," Z\xE1znam\u016F na str\xE1nku: "),a(9,"select",48),b("ngModelChange",function(n){p(e);let d=g();return f(d.pageSize,n)||(d.pageSize=n),m(n)}),_("ngModelChange",function(n){p(e);let d=g();return m(d.changePageSize(n))}),u(10,Te,2,2,"option",17),o()()()}if(i&2){let e=g();c(),l("disabled",e.currentPage===1),c(3),q("Str\xE1nka ",e.currentPage," z ",e.totalPages),c(),l("disabled",e.currentPage===e.totalPages),c(4),C("ngModel",e.pageSize),c(),l("ngForOf",e.pageSizes)}}function ze(i,t){i&1&&(a(0,"p"),s(1,"\u017D\xE1dn\xE9 objedn\xE1vky nebyly nalezeny."),o())}var de=class i{constructor(t,e,r,n,d,qe,We,Fe){this.ordersService=t;this.categoriesService=e;this.productsService=r;this.customersService=n;this.router=d;this.route=qe;this.authService=We;this.location=Fe}orders=[];categories=[];products=[];customers=[];editingOrder=null;newOrder=null;loading=!1;saving=!1;errorMsg=null;customerIdFilter=null;today=new Date().toISOString().split("T")[0];sortColumn="id";sortDirection="asc";currentPage=1;pageSize=10;pageSizes=[10,30,50];ngOnInit(){this.route.paramMap.subscribe(t=>{let e=t.get("customerId");this.customerIdFilter=e?+e:null,this.fetchOrders()}),this.fetchCategories(),this.fetchProducts(),this.fetchCustomers()}isAdmin(){return this.authService.isAdmin()}goBackOneStep(){this.location.back()}goBack(){this.router.navigate(["/dashboard"])}fetchOrders(){this.loading=!0,(this.customerIdFilter?this.ordersService.getOrdersByCustomer(this.customerIdFilter):this.ordersService.getOrders()).subscribe({next:e=>{this.orders=e??[],this.loading=!1,this.currentPage=1},error:()=>{this.errorMsg=this.customerIdFilter?"Nepoda\u0159ilo se na\u010D\xEDst objedn\xE1vky z\xE1kazn\xEDka":"Nepoda\u0159ilo se na\u010D\xEDst objedn\xE1vky",this.loading=!1}})}fetchCategories(){this.categoriesService.getAll().subscribe({next:t=>this.categories=t})}fetchProducts(){this.productsService.getProducts().subscribe({next:t=>this.products=t})}fetchCustomers(){this.customersService.getAll().subscribe({next:t=>this.customers=t})}startNew(){this.isAdmin()&&(this.newOrder={customer:this.customerIdFilter?this.customers.find(t=>t.id===this.customerIdFilter)??null:null,date:this.today,items:[{category:void 0,product:null,quantity:1}]})}addItem(){this.newOrder?.items.push({category:void 0,product:null,quantity:1})}removeItem(t){this.newOrder?.items.splice(t,1)}addEditItem(){this.editingOrder?.items.push({category:void 0,product:null,quantity:1})}removeEditItem(t){this.editingOrder?.items.splice(t,1)}get totalPrice(){return this.newOrder?this.newOrder.items.reduce((t,e)=>{let r=e.product?.price??0;return t+r*(e.quantity||0)},0):0}compareCustomer=(t,e)=>t&&e?t.id===e.id:t===e;compareProduct=(t,e)=>t&&e?t.id===e.id:t===e;compareCategory=(t,e)=>t&&e?t.id===e.id:t===e;saveNew(){if(!this.isAdmin()||!this.newOrder?.customer||this.newOrder.items.length===0){this.errorMsg="Vypl\u0148te z\xE1kazn\xEDka a alespo\u0148 jeden produkt";return}let t=this.newOrder.items.filter(r=>r.product&&r.quantity>0).map(r=>({productId:r.product.id,quantity:r.quantity,categoryId:r.category?.id}));if(t.length===0){this.errorMsg="P\u0159idejte alespo\u0148 jeden validn\xED produkt";return}let e={customerId:this.newOrder.customer.id,date:this.newOrder.date,items:t};this.saving=!0,this.ordersService.create(e).subscribe({next:()=>{this.fetchOrders(),this.newOrder=null,this.saving=!1},error:()=>{this.errorMsg="Chyba p\u0159i vytv\xE1\u0159en\xED objedn\xE1vky",this.saving=!1}})}cancelNew(){this.newOrder=null}startEdit(t){this.isAdmin()&&(this.editingOrder={id:t.id,customer:t.customer,date:t.date,items:t.items.map(e=>({category:e.product?.category??void 0,product:e.product,quantity:e.quantity}))})}saveEdit(){if(!this.isAdmin()||!this.editingOrder)return;let t=this.editingOrder.items.filter(r=>r.product&&r.quantity>0).map(r=>({productId:r.product.id,quantity:r.quantity,categoryId:r.category?.id})),e={customerId:this.editingOrder.customer.id,date:this.editingOrder.date,items:t};this.saving=!0,this.ordersService.update(this.editingOrder.id,e).subscribe({next:()=>{this.fetchOrders(),this.editingOrder=null,this.saving=!1},error:()=>{this.errorMsg="Chyba p\u0159i ukl\xE1d\xE1n\xED zm\u011Bn",this.saving=!1}})}cancelEdit(){this.editingOrder=null}deleteOrder(t){this.isAdmin()&&confirm("Opravdu chce\u0161 smazat tuto objedn\xE1vku?")&&(this.saving=!0,this.ordersService.delete(t,this.customerIdFilter??void 0).subscribe({next:e=>{e&&this.fetchOrders(),this.saving=!1},error:()=>{this.errorMsg="Chyba p\u0159i maz\xE1n\xED objedn\xE1vky",this.saving=!1}}))}getOrderTotal(t){return t.items.reduce((e,r)=>{let n=r.product?.price??0;return e+n*(r.quantity||0)},0)}getEditingOrderTotal(){return this.editingOrder?this.editingOrder.items.reduce((t,e)=>{let r=e.product?.price??0;return t+r*(e.quantity||0)},0):0}getFilteredProducts(t){return t?this.products.filter(e=>e.category?.id===t):this.products}get sortedOrders(){let t=[...this.orders];return t.sort((e,r)=>{let n,d;switch(this.sortColumn){case"id":n=e.id,d=r.id;break;case"customer":n=e.customer?.name?.toLowerCase()||"",d=r.customer?.name?.toLowerCase()||"";break;case"date":n=new Date(e.date).getTime(),d=new Date(r.date).getTime();break;case"price":n=this.getOrderTotal(e),d=this.getOrderTotal(r);break}return n<d?this.sortDirection==="asc"?-1:1:n>d?this.sortDirection==="asc"?1:-1:0}),t}get totalPages(){return Math.max(1,Math.ceil(this.sortedOrders.length/this.pageSize))}get pagedOrders(){let t=(this.currentPage-1)*this.pageSize;return this.sortedOrders.slice(t,t+this.pageSize)}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)}changePageSize(t){this.pageSize=t,this.currentPage=1}sortData(t){this.sortColumn===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.currentPage=1}static \u0275fac=function(e){return new(e||i)(x(w),x(oe),x(ae),x(ce),x(Y),x(Q),x(ie),x(j))};static \u0275cmp=I({type:i,selectors:[["app-orders"]],decls:14,vars:5,consts:[["viewMode",""],[1,"orders-page"],[1,"page-header"],[1,"back-buttons"],[1,"back-one-btn",3,"click"],[1,"back-btn",3,"click"],["class","new-order",4,"ngIf"],["class","form-box",4,"ngIf"],["class","orders-table",4,"ngIf"],["class","pagination",4,"ngIf"],[4,"ngIf"],[1,"new-order"],[1,"add-btn",3,"click"],[1,"form-box"],[1,"inner-form"],[3,"ngModelChange","ngModel","compareWith"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["type","date",3,"ngModelChange","ngModel","min"],[1,"order-items"],["class","order-item",4,"ngFor","ngForOf"],[1,"order-total"],[1,"save-btn",3,"click"],[1,"cancel-btn",3,"click"],[1,"order-item"],["type","number","placeholder","Mno\u017Estv\xED","min","1",3,"ngModelChange","ngModel"],[1,"price"],[1,"item-actions"],["type","button",1,"add-btn",3,"click"],["type","button",1,"delete-btn",3,"click"],[1,"orders-table"],[1,"id-col",3,"click"],[1,"customer-col",3,"click"],[1,"date-col",3,"click"],[1,"price-col",3,"click"],["class","actions-col",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"actions-col"],[3,"ngClass"],[4,"ngIf","ngIfElse"],[1,"id-col"],[1,"customer-col"],[1,"date-col"],[1,"price-col"],[1,"edit-btn",3,"click"],[1,"delete-btn",3,"click"],[1,"pagination"],[3,"click","disabled"],[3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&(a(0,"div",1)(1,"h2"),s(2,"\u{1F4E6} Objedn\xE1vky"),o(),a(3,"div",2)(4,"div",3)(5,"button",4),_("click",function(){return r.goBackOneStep()}),s(6,"\u2B05 O krok zp\u011Bt"),o(),a(7,"button",5),_("click",function(){return r.goBack()}),s(8,"\u2B05 Zp\u011Bt na Dashboard"),o()(),u(9,pe,3,0,"div",6),o(),u(10,Ce,15,8,"div",7)(11,Ve,18,6,"table",8)(12,De,11,6,"div",9)(13,ze,2,0,"p",10),o()),e&2&&(c(9),l("ngIf",r.isAdmin()),c(),l("ngIf",r.newOrder),c(),l("ngIf",r.orders.length>0),c(),l("ngIf",r.orders.length>0),c(),l("ngIf",r.orders.length===0&&!r.loading))},dependencies:[$,N,L,R,ne,X,ee,K,H,J,Z,te,G,U],styles:[".orders-page[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#f1f5f9,#e0e7ff);min-height:100vh;color:#1e293b;font-family:Inter,Segoe UI,sans-serif}.orders-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:1.8rem;font-weight:600;text-align:center;color:#0f172a;letter-spacing:-.3px}.orders-page[_ngcontent-%COMP%]   .back-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:.5rem}.orders-page[_ngcontent-%COMP%]   .back-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:10px;padding:.6rem 1.2rem;font-weight:500;font-size:.95rem;cursor:pointer;transition:all .2s ease;background:#fff;border:1px solid #cbd5e1;color:#1e293b;width:200px;text-align:left}.orders-page[_ngcontent-%COMP%]   .back-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;border-color:#94a3b8}.orders-page[_ngcontent-%COMP%]   .back-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background:#e2e8f0}.orders-page[_ngcontent-%COMP%]   .new-order[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:1rem}.orders-page[_ngcontent-%COMP%]   .new-order[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{border-radius:10px;padding:.6rem 1.2rem;font-weight:500;font-size:.95rem;cursor:pointer;transition:all .2s ease;background:#e0f2fe;border:1px solid #bae6fd;color:#1e3a8a;width:200px}.orders-page[_ngcontent-%COMP%]   .new-order[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#bfdbfe;border-color:#93c5fd;color:#1e40af}.orders-page[_ngcontent-%COMP%]   .new-order[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:active{background:#93c5fd;border-color:#60a5fa;color:#1e3a8a}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:12px;padding:1rem;margin-bottom:1rem}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;gap:.8rem;align-items:center}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;min-width:100px;padding:.75rem;border-radius:8px;border:1px solid #cbd5e1;background:#fff;color:#1e293b;font-size:.95rem;transition:border .2s,box-shadow .2s}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f640}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%], .orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{border-radius:10px;padding:.6rem 1.2rem;font-weight:500;font-size:.9rem;cursor:pointer;transition:all .2s ease;width:110px;height:40px;justify-self:end}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{background:#e0f2fe;border:1px solid #bae6fd;color:#1e3a8a}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#bfdbfe;border-color:#93c5fd;color:#1e40af}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:active{background:#93c5fd;border-color:#60a5fa;color:#1e3a8a}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;border:none;box-shadow:0 2px 5px #dc262640}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#dc2626,#b91c1c);box-shadow:0 4px 10px #dc26264d;transform:translateY(-1px)}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:active{transform:translateY(1px);box-shadow:0 2px 4px #dc262640}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-wrap:nowrap}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .category-select[_ngcontent-%COMP%], .orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .product-select[_ngcontent-%COMP%]{width:200px;flex:0 0 auto}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;flex:0 0 auto}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{width:100px;text-align:right;flex:0 0 auto}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{border-radius:10px;padding:.3rem .8rem;font-weight:500;font-size:.9rem;cursor:pointer;transition:all .2s ease;background:#e0f2fe;border:1px solid #bae6fd;color:#1e3a8a}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#bfdbfe;border-color:#93c5fd;color:#1e40af}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:active{background:#93c5fd;border-color:#60a5fa;color:#1e3a8a}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{border-radius:10px;padding:.3rem .8rem;font-weight:500;font-size:.9rem;cursor:pointer;transition:all .2s ease;background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;border:none;box-shadow:0 2px 5px #dc262640}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#dc2626,#b91c1c);box-shadow:0 4px 10px #dc26264d;transform:translateY(-1px)}.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:active{transform:translateY(1px);box-shadow:0 2px 4px #dc262640}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:1rem;table-layout:fixed}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.9rem;border-bottom:1px solid #e2e8f0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8fafc;font-weight:600;color:#0f172a}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f1f5f9}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .id-col[_ngcontent-%COMP%]{width:6%}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .customer-col[_ngcontent-%COMP%]{width:28%}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .date-col[_ngcontent-%COMP%]{width:20%}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .price-col[_ngcontent-%COMP%]{width:16%}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .actions-col[_ngcontent-%COMP%]{width:10%;text-align:center}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .actions-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:10px;padding:.6rem 1.2rem;font-weight:500;font-size:.9rem;cursor:pointer;transition:all .2s ease;margin:0 .3rem}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .actions-col[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{background:#e0f2fe;border:1px solid #bae6fd;color:#1e3a8a}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .actions-col[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#bfdbfe;border-color:#93c5fd;color:#1e40af}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .actions-col[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]:active{background:#93c5fd;border-color:#60a5fa;color:#1e3a8a}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .actions-col[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;border:none;box-shadow:0 2px 5px #dc262640}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .actions-col[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#dc2626,#b91c1c);box-shadow:0 4px 10px #dc26264d;transform:translateY(-1px)}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .actions-col[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:active{transform:translateY(1px);box-shadow:0 2px 4px #dc262640}.orders-page[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:1.5rem;gap:.8rem;font-size:.95rem}.orders-page[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:10px;padding:.4rem .9rem;font-weight:500;font-size:.9rem;cursor:pointer;transition:all .2s ease;background:#fff;border:1px solid #cbd5e1;color:#1e293b}.orders-page[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;border-color:#94a3b8}.orders-page[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background:#e2e8f0}.orders-page[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.orders-page[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.35rem .6rem;border-radius:8px;border:1px solid #e2e8f0;background-color:#fff!important;color:#000!important;font-size:.9rem;appearance:none}.orders-page[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}@media (max-width: 768px){.orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%], .orders-page[_ngcontent-%COMP%]   .form-box[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]{flex-wrap:wrap}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   td.actions-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.3rem;text-align:center}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   td.actions-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0}.orders-page[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:.5rem}}"]})};export{de as OrdersComponent};
